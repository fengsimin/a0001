<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto JzKGu; Kdu85: $this->order[] = "\163\157\x72\x74\142\x79\40\104\105\x53\103"; goto Kh61O; JzKGu: $this->admin = $_GET["\141\x64\155\151\156"]; goto BEgSq; RDBwp: $this->db = ifeiwu\Db::getInstance(); goto TtDmJ; OWdCP: $this->order[] = "\x63\x74\x69\155\145\40\104\x45\x53\103"; goto PfR32; V1UpP: $this->fields = $this->_getTableFields($this->table); goto aYWxM; TtDmJ: $this->prefix = $this->db->getPrefix(); goto V1UpP; tlq36: if (!in_array("\143\x74\x69\x6d\145", $this->fields)) { goto C6KqJ; } goto OWdCP; Kh61O: jl3SI: goto tlq36; kHKuX: if (!in_array("\163\x6f\x72\164\142\x79", $this->fields)) { goto jl3SI; } goto Kdu85; aYWxM: $this->order = array(); goto kHKuX; PfR32: C6KqJ: goto BmzBl; BmzBl: Rs4Up: goto oLVGA; BEgSq: if (!$this->table) { goto Rs4Up; } goto RDBwp; oLVGA: } public function __destruct() { goto UL5Rt; vTSo1: VXAfS: goto YP3_v; UL5Rt: if (!APP_DEBUG) { goto VXAfS; } goto eYRXU; eYRXU: $this->_debug($this->db->log()); goto vTSo1; YP3_v: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto PtuOL; FyJfP: if (is_array($message)) { goto Hhk4f; } goto mgrr9; PtuOL: $res = array(); goto lcYr3; PRC3s: Hhk4f: goto dnkcc; zhkw8: if (!$data) { goto tu77k; } goto bEDLw; bEDLw: $res["\x64\141\164\x61"] = $data; goto bB3xD; OZHcN: return $res; goto IX4VS; LjWhF: goto nIsMA; goto PRC3s; mgrr9: $res["\155\x65\x73\163\x61\147\145"] = $message; goto LjWhF; bB3xD: tu77k: goto OZHcN; dnkcc: $res["\144\141\164\x61"] = $message; goto Ma2kJ; lcYr3: $res["\143\157\144\145"] = $code; goto FyJfP; Ma2kJ: nIsMA: goto zhkw8; IX4VS: } protected function _bulidData($request_data) { goto nejWD; nejWD: $data = array(); goto MT_ID; EwuBh: $column[] = "\x61\154\151\141\163"; goto H6GbE; FY1gO: $data["\143\164\151\155\145"] = strtotime($request_data["\x63\x74\151\x6d\x65"]); goto w9zo2; DBKgE: if (!in_array("\164\x69\x74\154\x65", $this->fields)) { goto PmV4V; } goto R1T3j; RDz57: if (!($pid > 0 && in_array("\x6a\x73\157\156", $this->fields))) { goto RZu64; } goto T_nwt; H6GbE: PmguT: goto vnAfN; lTys_: $pid = $data["\x70\151\x64"]; goto RDz57; YEcQJ: $data["\x6a\163\x6f\156"] = $category ? json_encode(array("\x63" => $category)) : ''; goto o1qPg; T_nwt: $column = array("\151\x64"); goto DBKgE; ymIB3: rAuBl: goto tBqFl; FzV8e: return $data; goto bifwG; R1T3j: $column[] = "\x74\x69\164\154\x65"; goto SFddC; dOfxx: if (!in_array("\x61\x6c\x69\141\163", $this->fields)) { goto PmguT; } goto EwuBh; tBqFl: $data["\x73\164\x61\164\145"] = isset($data["\x73\164\141\x74\x65"]) ? $data["\x73\x74\x61\x74\x65"] : 0; goto cVnsH; MT_ID: foreach ($this->fields as $field) { goto zuMCE; D2UYD: owx5T: goto HuhlL; Crml9: if (!($value !== null)) { goto v4c5v; } goto CsEKA; CsEKA: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto h5xQg; h5xQg: v4c5v: goto D2UYD; zuMCE: $value = $request_data[$field]; goto Crml9; HuhlL: } goto ymIB3; o1qPg: RZu64: goto FzV8e; SFddC: PmV4V: goto dOfxx; vnAfN: $category = $this->db->select($this->table, $column)->where("\151\x64\x20\x3d\40{$pid}")->get(); goto YEcQJ; w9zo2: L9dFm: goto lTys_; cVnsH: if (!isset($request_data["\143\x74\x69\x6d\x65"])) { goto L9dFm; } goto FY1gO; bifwG: } protected function _encode($data) { goto m2Np8; cjOq2: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); CjJrn: } goto CnyrV; nhOAJ: $tmp = clone $data; goto cjOq2; UoFf0: H6yUQ: goto npXMB; m2Np8: if (!is_array($data)) { goto S6i1K; } goto PoY9v; PoY9v: return array_map(array($this, "\x5f\145\156\143\157\144\x65"), $data); goto zqWwj; D_IuN: return $tmp; goto UoFf0; CnyrV: cXOoV: goto D_IuN; zqWwj: S6i1K: goto KCLu9; npXMB: return htmlspecialchars($data, ENT_QUOTES); goto UTzUy; KCLu9: if (!is_object($data)) { goto H6yUQ; } goto nhOAJ; UTzUy: } protected function _decode($data) { goto zQasO; ALKyi: if (!is_object($data)) { goto l1kQ4; } goto B_GW5; AAhv_: return htmlspecialchars_decode($data, ENT_QUOTES); goto l8L57; zQasO: if (!is_array($data)) { goto Q1O0e; } goto usUq8; wBLVd: l1kQ4: goto AAhv_; usUq8: return array_map(array($this, "\x5f\x64\x65\x63\x6f\x64\145"), $data); goto KXAVR; B_GW5: $tmp = clone $data; goto mSRPH; K1w_Y: return $tmp; goto wBLVd; mSRPH: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); GsOKr: } goto QOfAv; QOfAv: tPDLz: goto K1w_Y; KXAVR: Q1O0e: goto ALKyi; l8L57: } protected function _getTableFields($table) { goto jvwyh; MSEk0: goto h4AMw; goto Qcd8g; Lltg3: $i++; goto lMTnq; E_A40: $table = $this->prefix . $table; goto UgjGJ; wfEOR: $table = $this->prefix . $this->table; goto MSEk0; hkwP9: if (!($i < $count)) { goto ixJD7; } goto QpjkV; jvwyh: if ($table) { goto WbqHB; } goto wfEOR; PiXVC: ixJD7: goto DPnZj; IZO7y: f0ZoG: goto hkwP9; v3H2y: bgyHZ: goto Lltg3; Qcd8g: WbqHB: goto E_A40; kc9ls: $i = 0; goto IZO7y; PNjx0: $count = $query->columnCount(); goto kc9ls; lMTnq: goto f0ZoG; goto PiXVC; oQK5v: $fields[] = $column["\x6e\141\155\145"]; goto v3H2y; cdI_D: $query = $this->db->query("\x53\105\x4c\105\103\124\x20\x2a\x20\106\122\x4f\115\40{$table}"); goto PNjx0; UgjGJ: h4AMw: goto cdI_D; DPnZj: return $fields; goto TBImt; QpjkV: $column = $query->getColumnMeta($i); goto oQK5v; TBImt: } protected function _callback($method, $params) { goto nn5bL; jDOOh: tQsrm: goto BJ4hv; eriD_: call_user_func_array(array($this, $method), $params); goto jDOOh; nn5bL: if (!(is_callable(array($this, $method)) !== false)) { goto tQsrm; } goto eriD_; BJ4hv: } protected function _getLevel($pid, $id) { goto O31Fl; WPW5i: if (count($list) == 0) { goto dJrDr; } goto TSmzd; O31Fl: static $list = array(); goto xS1YQ; U_Fwy: goto eEU2B; goto npyWs; ql20V: goto BGK_T; goto Z3sy2; O1ufx: return "\x2c" . implode("\54", array_reverse($list)) . "\54" . $id . "\54"; goto rk8FM; TSmzd: if ($id) { goto op5RC; } goto OHCCi; RMZeN: IULAr: goto INXbY; ugua3: BGK_T: goto jAHzs; SxhG5: $this->_getLevel('', $pid); goto CkIie; OHCCi: return "\54" . implode("\54", array_reverse($list)) . "\x2c"; goto U_Fwy; CkIie: S6s2I: goto WPW5i; wNvML: $pid = $this->db->select($this->table, "\x70\x69\144")->where(array("\151\144", "\x3d", $id))->get(0); goto RMZeN; INXbY: if (!($pid != 0)) { goto S6s2I; } goto hmccW; rk8FM: eEU2B: goto ql20V; npyWs: op5RC: goto O1ufx; hmccW: $list[] = $pid; goto SxhG5; xS1YQ: if (!($pid === '')) { goto IULAr; } goto wNvML; Z3sy2: dJrDr: goto nPPv7; nPPv7: return "\x2c" . $id . "\54"; goto ugua3; jAHzs: } protected function _saveData($table, $data, $where) { goto X63aO; Z1X_3: return $this->db->update($table, $data, $where)->is(); goto EK1TF; WSlBd: return $this->db->insert($table, $data)->is(); goto FwRIM; EK1TF: ermlt: goto lwzES; DscWn: jAeIn: goto Z1X_3; X63aO: if ($this->db->select($table)->where($where)->has()) { goto jAeIn; } goto WSlBd; FwRIM: goto ermlt; goto DscWn; lwzES: } protected function _saveImages($pid, $request_data) { goto m6ic0; pMiwb: $images_title = $request_data["\151\155\x61\x67\145\163\137\x74\151\x74\154\x65"]; goto MKdQN; m6ic0: $images_id = $request_data["\151\x6d\x61\x67\x65\163\x5f\x69\144"]; goto iVCVE; nZSJU: $data["\164\x79\x70\145"] = "\151\x6d\141\x67\x65"; goto nWq_T; nWq_T: $data["\160\x69\x64"] = $pid; goto Hx1w6; vZtwF: $images_path = $request_data["\151\155\x61\147\145\x73\x5f\160\141\x74\150"]; goto sgOVV; dMPUn: foreach ($images_id as $i => $id) { goto QIrJE; CpSQj: $this->db->insert($this->table, $data); goto F63Vp; Ld9mO: $data["\x69\x6d\141\147\x65"] = $images_name[$i]; goto pssoJ; ePymi: if (empty($id)) { goto yUeh4; } goto Vg4i5; pssoJ: $data["\151\155\141\x67\145\137\x70\x61\x74\x68"] = $images_path[$i]; goto CpSQj; l_FmY: $data["\163\164\x61\164\145"] = $images_state[$i]; goto ePymi; h1KCC: $data["\x6f\162\144\145\162\142\x79"] = $images_order[$i]; goto l_FmY; Vg4i5: $this->db->update($this->table, $data, array("\151\x64", "\x3d", $id)); goto ASisF; QIrJE: $data["\164\151\164\154\x65"] = $images_title[$i]; goto h1KCC; ASisF: goto ht2B8; goto esMCR; F63Vp: unset($data["\x69\155\141\x67\145"], $data["\x69\x6d\141\147\x65\x5f\160\141\x74\150"]); goto h7S0a; esMCR: yUeh4: goto Ld9mO; h7S0a: ht2B8: goto LgdOk; LgdOk: UaUoI: goto ICwAS; ICwAS: } goto Q3lvu; iVCVE: $images_order = $request_data["\x69\155\141\147\x65\x73\x5f\x6f\162\144\x65\x72"]; goto pMiwb; sgOVV: $images_state = $request_data["\x69\155\x61\x67\x65\x73\137\163\164\x61\164\x65"]; goto nZSJU; Q3lvu: bp_xR: goto e48dp; MKdQN: $images_name = $request_data["\x69\155\x61\x67\x65\x73\137\x6e\x61\x6d\145"]; goto vZtwF; Hx1w6: $data["\x63\x74\151\x6d\145"] = time(); goto dMPUn; e48dp: } protected function _removeFiles2($files) { goto JCWk3; JCWk3: if (!(!empty($files) && !is_array($files))) { goto z6Y_4; } goto KEhqu; jMKlW: QXHc5: goto YSVr7; KEhqu: $files = json_decode($files, true); goto wI4In; wI4In: z6Y_4: goto wGZDO; vtOLN: foreach ($files as $key => $value) { goto hH18D; dhI08: unlink($filename); goto hQtYo; aQA13: goto H7loU; goto VI7Vy; e3OLh: if ($name) { goto POAtI; } goto TZUmC; qiOP9: H7loU: goto Z8zQa; gudTS: $filename = $path . "\57" . $name; goto m4XWk; EaLP6: $path = "\x2e\56\x2f" . $value["\x70\x61\164\150"]; goto UlRDI; Z8zQa: d26K5: goto gjQAw; TZUmC: goto d26K5; goto xXDd8; UlRDI: $prefix = $value["\160\x72\x65\x66\x69\x78"]; goto rfIo1; hH18D: $name = $value["\156\x61\x6d\145"]; goto e3OLh; EhioL: foreach ($prefixs as $prefix) { goto nmkD_; RKLAZ: unlink($filename); goto PawDE; GpZ0e: if (!file_exists($filename)) { goto U66ko; } goto RKLAZ; nmkD_: $filename = "{$path}\57{$prefix}{$name}"; goto GpZ0e; PawDE: U66ko: goto z054b; z054b: JtAdg: goto ykJUF; ykJUF: } goto XhVIA; xXDd8: POAtI: goto EaLP6; rfIo1: if ($prefix) { goto p4Dgr; } goto gudTS; XhVIA: Z8udS: goto qiOP9; m4XWk: if (!file_exists($filename)) { goto s2HRd; } goto dhI08; hQtYo: s2HRd: goto aQA13; xOqfI: $prefixs = explode("\x2c", $prefix); goto EhioL; VI7Vy: p4Dgr: goto xOqfI; gjQAw: } goto bNMyK; bNMyK: pt3eS: goto jMKlW; wGZDO: if (!$files) { goto QXHc5; } goto vtOLN; YSVr7: } protected function _mkdir($path, $mode = 493) { goto bZEcW; bZEcW: if (is_dir($path)) { goto bwxqP; } goto APznl; jucBC: bwxqP: goto QTzBY; APznl: return mkdir($path, $mode, true); goto jucBC; QTzBY: return false; goto upHBu; upHBu: } protected function _rmdir($path) { goto OTLL3; fAbtf: if (is_dir("{$path}\x2f{$item}")) { goto eq2pF; } goto urq0Y; RtbBF: if (!($handle = opendir($path))) { goto gOzFm; } goto gQUeI; M4Q25: if (rmdir($path)) { goto zJdhm; } goto KuEp7; tHzui: return true; goto GEwUe; GEwUe: Hg9Bb: goto aILuW; mDKNE: goto SPX3z; goto M5jUU; aILuW: gOzFm: goto nNb2f; D51n4: zJdhm: goto tHzui; urq0Y: unlink("{$path}\x2f{$item}"); goto xX14V; KuEp7: return false; goto TH4MX; hiVza: if (!(false !== ($item = readdir($handle)))) { goto vdIWY; } goto MO1sh; TH4MX: goto Hg9Bb; goto D51n4; K5vuF: eq2pF: goto IPPUV; yUwkT: WQj6d: goto qz4z2; OTLL3: if (is_dir($path)) { goto rMFfU; } goto pWnT3; qz4z2: Mkdvn: goto mDKNE; xX14V: goto WQj6d; goto K5vuF; MO1sh: if (!($item != "\x2e" && $item != "\x2e\x2e")) { goto Mkdvn; } goto fAbtf; CJ7Zx: closedir($handle); goto M4Q25; gQUeI: SPX3z: goto hiVza; M5jUU: vdIWY: goto CJ7Zx; IPPUV: $this->_rmdir("{$path}\x2f{$item}"); goto yUwkT; VznTI: rMFfU: goto RtbBF; pWnT3: return false; goto VznTI; nNb2f: } protected function _bulidUploadPath($temp_path, $data) { goto j_DDZ; oUAB4: $path_last = end(explode("\x2f", $temp_path)); goto EFkok; vq6H9: m7UXG: goto IqlD1; IqlD1: if (!is_dir("\x2e\56\x2f" . $temp_path)) { goto JHJwl; } goto OzlEc; Ev3FU: return $temp_path; goto ZAYyS; zd8i_: BDXJy: goto tQT9S; KTiL7: if (!(strpos($path_last, "\41\x3d") !== false)) { goto m7UXG; } goto BGLza; i2FYJ: $true_path = $temp_path; goto zd8i_; o5Gje: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto vq6H9; ZAYyS: oLLbA: goto KTiL7; abzXg: return $true_path; goto bonQa; BGLza: $vardir = current(explode("\41\75", $path_last)); goto o5Gje; EFkok: if (!($path_last == $id)) { goto oLLbA; } goto Ev3FU; OzlEc: if (rename("\x2e\56\x2f" . $temp_path, "\x2e\56\57" . $true_path)) { goto BDXJy; } goto i2FYJ; j_DDZ: $id = $data["\151\144"]; goto oUAB4; tQT9S: JHJwl: goto abzXg; bonQa: } protected function _toTree($list, $pk = "\151\x64", $pid = "\160\151\144", $child = "\x5f\x63\x68\x69\x6c\x64", $root = 0) { goto C_Oy9; HHpv2: Z9wMU: goto hZ1Aj; iLQ9R: Q1xY1: goto NrXmw; fHgMU: $refer = array(); goto f4iF6; hZ1Aj: QA7ll: goto HG_Ni; C_Oy9: $tree = array(); goto fH22P; NrXmw: foreach ($list as $key => $data) { goto fO9nc; LIkQd: if ($root == $parentId) { goto F1Aoo; } goto ZB_rN; fO9nc: $parentId = $data[$pid]; goto LIkQd; ZB_rN: if (!isset($refer[$parentId])) { goto RFFH0; } goto hwcBF; u1lM7: F1Aoo: goto LDFDr; Feqsg: $parent[$child][] =& $list[$key]; goto d1vRm; phC_y: goto dplVQ; goto u1lM7; SB0Zk: dplVQ: goto qRLl1; d1vRm: RFFH0: goto phC_y; LDFDr: $tree[] =& $list[$key]; goto SB0Zk; hwcBF: $parent =& $refer[$parentId]; goto Feqsg; qRLl1: ZJqIj: goto YlMN0; YlMN0: } goto HHpv2; fH22P: if (!is_array($list)) { goto QA7ll; } goto fHgMU; HG_Ni: return $tree; goto FR7pB; f4iF6: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; LsUeO: } goto iLQ9R; FR7pB: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto EUPkb; A8bO5: if (!$isnumber) { goto XyKHu; } goto JyDqx; DBCcd: goto zByjH; goto lnyjv; EUPkb: if (!$islowercase) { goto lQu3b; } goto UJo4e; TtT8B: if (!($i < $length)) { goto eTzN0; } goto bG8tL; Na0QM: $i = 0; goto urh9z; QO4OF: if (!$isspecial) { goto HTxMe; } goto ERddX; ERddX: $chars .= "\41\100\43\x24\x25\x5e\46\52\50\51"; goto jg4tv; jg4tv: HTxMe: goto lvS2V; urh9z: zByjH: goto TtT8B; ITStJ: if (!$isuppercase) { goto H7gyA; } goto wuxl0; WfvNH: Po2AU: goto LLIV7; Ea5eg: lQu3b: goto ITStJ; uSA_b: return $result; goto EJk9_; n0_MM: XyKHu: goto QO4OF; LLIV7: $i++; goto DBCcd; lnyjv: eTzN0: goto uSA_b; AJch8: H7gyA: goto A8bO5; UJo4e: $chars .= "\141\142\x63\144\145\x66\147\x68\151\x6a\x6b\x6c\155\x6e\x6f\160\161\162\163\164\165\166\x77\x78\x79\x7a"; goto Ea5eg; bG8tL: $result .= $chars[rand(0, $max)]; goto WfvNH; wuxl0: $chars .= "\x41\x42\x43\104\x45\106\x47\110\x49\112\113\x4c\x4d\116\117\120\121\122\x53\124\125\x56\x57\130\x59\132"; goto AJch8; JyDqx: $chars .= "\x30\61\x32\63\x34\65\66\x37\x38\x39"; goto n0_MM; hLLbE: $max = strlen($chars) - 1; goto Na0QM; lvS2V: $result = ''; goto hLLbE; EJk9_: } protected function _UTF82GBK($str) { goto p3HDT; gdUh9: return $str; goto Cjaqz; YvpGa: rU6lG: goto lkZeT; Ipu43: keY0R: goto kgRNt; p3HDT: if (stripos(php_uname("\163"), "\x57\x69\x6e\x64\x6f\167") !== false) { goto rU6lG; } goto gdUh9; lkZeT: return iconv("\125\124\106\55\x38", "\107\102\113\57\x2f\x49\107\116\x4f\x52\105", $str); goto Ipu43; Cjaqz: goto keY0R; goto YvpGa; kgRNt: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto nZ7Ch; KQClS: $realip = getenv("\x48\x54\x54\x50\137\103\114\111\x45\x4e\124\x5f\x49\120"); goto crGPy; crGPy: x_sO_: goto WknVk; hXPHA: if (getenv("\110\x54\x54\x50\x5f\x43\114\x49\x45\x4e\124\x5f\x49\x50")) { goto AJRIM; } goto xAMLy; Dvkid: $realip = explode("\x2c", $realip); goto aK41H; W2Olx: goto x_sO_; goto WcuDA; ahcbU: return $realip; goto Ybbtk; fA093: AJRIM: goto KQClS; Ht7kY: if (isset($_SERVER["\110\124\124\x50\137\103\114\111\105\x4e\124\137\111\x50"])) { goto B8LoL; } goto xSGHc; WknVk: goto a28aR; goto xQH1s; Y4mgs: B8LoL: goto zhHs0; kCtcq: $realip = empty($realip) ? $_SERVER["\x52\105\115\117\x54\x45\137\101\x44\x44\122"] : $realip; goto GxHhK; xQH1s: GzkmQ: goto huw9f; aK41H: $realip = $realip[0]; goto zpYMf; TN4QH: d8Qz9: goto lPHm1; p4vzG: $realip = explode("\54", $realip); goto zNxaH; zhHs0: $realip = $_SERVER["\110\124\x54\120\x5f\x43\x4c\111\105\116\124\x5f\111\x50"]; goto N4V69; KXKqE: a28aR: goto ahcbU; N4V69: ksHSG: goto KXKqE; NC3N7: goto ksHSG; goto Y4mgs; GxHhK: goto x_sO_; goto fA093; xAMLy: $realip = getenv("\x52\105\115\117\124\105\x5f\x41\x44\x44\122"); goto W2Olx; zpYMf: $realip = empty($realip) ? $_SERVER["\122\105\x4d\117\124\x45\137\x41\104\x44\122"] : $realip; goto NC3N7; ijFO8: goto ksHSG; goto TN4QH; zNxaH: $realip = $realip[0]; goto kCtcq; xSGHc: $realip = $_SERVER["\x52\105\x4d\117\x54\105\x5f\101\x44\104\122"]; goto ijFO8; lPHm1: $realip = $_SERVER["\x48\124\x54\x50\137\130\137\106\117\122\127\101\x52\104\x45\x44\137\x46\117\122"]; goto Dvkid; Jhy47: if (getenv("\110\124\124\x50\137\130\x5f\x46\x4f\122\x57\x41\122\x44\105\x44\137\106\117\x52")) { goto HY_UW; } goto hXPHA; huw9f: if (isset($_SERVER["\110\124\124\x50\x5f\130\137\106\x4f\122\x57\101\122\x44\105\x44\137\x46\x4f\122"])) { goto d8Qz9; } goto Ht7kY; WcuDA: HY_UW: goto KWmgl; nZ7Ch: if (isset($_SERVER)) { goto GzkmQ; } goto Jhy47; KWmgl: $realip = getenv("\110\x54\124\120\137\130\x5f\106\117\122\x57\x41\x52\104\105\104\137\x46\x4f\x52"); goto p4vzG; Ybbtk: } protected function _trash($item, $request_data) { goto T5O2Y; FNBzg: return $this->db->insert("\164\162\x61\x73\150", $data)->is(); goto H4ABo; T5O2Y: $data = array(); goto gCut6; gCut6: $data["\141\x64\155\151\x6e\x5f\x69\144"] = $this->admin["\x69\144"]; goto cpH37; a2k2z: $data["\x63\164\151\x6d\145"] = time(); goto FNBzg; HW2BW: $data["\x73\164\x61\x74\145"] = 0; goto a2k2z; cpH37: $data["\141\x64\155\x69\156\x5f\156\141\x6d\x65"] = $this->admin["\156\141\155\x65"]; goto iVuud; XZ7cj: $path = $request_data["\160\x61\164\150"]; goto wrsxf; wrsxf: $data["\x70\x61\164\x68"] = $path ? $item[$path] : ''; goto fg83N; b2NFr: $data["\164\x69\x74\x6c\x65"] = $item["\x74\x69\164\x6c\145"]; goto XZ7cj; BVuNe: $data["\144\141\164\x61"] = json_encode($item); goto HW2BW; iVuud: $data["\x6e\x6f\x74\x65"] = $request_data["\156\x6f\164\x65"]; goto b2NFr; fg83N: $data["\x74\x61\x62\154\145"] = $this->table; goto BVuNe; H4ABo: } protected function _log($type, $data = array()) { goto q5jmQ; xD2VN: return $this->db->insert("\154\157\x67", $data)->is(); goto GCTgS; dA1YT: $data["\165\x72\154"] = $_SERVER["\x48\124\x54\x50\x5f\x52\105\106\105\x52\105\122"]; goto BIaz2; fFw3i: $data["\x74\171\160\145"] = $type; goto bwqh0; X66H8: $data["\164\x61\142\x6c\x65"] = $this->table; goto fFw3i; BIaz2: sG9tF: goto X66H8; JdWqy: $data["\141\x64\155\x69\x6e\x5f\x6e\141\155\145"] = $this->admin["\x6e\141\x6d\145"]; goto dA1YT; q5jmQ: if (!($type != "\154\157\147\151\x6e")) { goto sG9tF; } goto P37Ni; UqocF: $data["\143\x74\x69\155\145"] = time(); goto xD2VN; bwqh0: $data["\151\160"] = $this->_getIP(); goto UqocF; P37Ni: $data["\x61\144\155\151\x6e\x5f\151\144"] = $this->admin["\x69\x64"]; goto JdWqy; GCTgS: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
