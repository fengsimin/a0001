<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto lB68Y; rKt9R: FOHHr: goto yXxea; X_A7D: $name = $mb->export(); goto YxlUX; Hb71Y: goto eplR4; goto rKt9R; YxlUX: if ($name !== false) { goto FOHHr; } goto RMB7n; lB68Y: ifeiwu\Loader::import("\x65\x78\164\x65\156\x64\57\x4d\171\163\x71\154\x42\x61\x63\153\x75\x70"); goto Uy_uf; RMB7n: return $this->error(); goto Hb71Y; qy32C: eplR4: goto u_Icm; yXxea: return $this->success('', $name); goto qy32C; Uy_uf: $mb = new MysqlBackup(); goto X_A7D; u_Icm: } protected function postReply($filename) { goto ATG3o; wsVFh: return $this->error(json_encode($errors)); goto f09RG; f09RG: goto Cs6sB; goto VFJZO; VFJZO: kDBg1: goto miYN6; lNMHT: Cs6sB: goto dIzly; C4Y3l: $errors = $mb->import($filename); goto X_ZUo; ATG3o: ifeiwu\Loader::import("\x65\170\164\x65\156\144\x2f\x4d\x79\163\161\154\x42\141\143\x6b\x75\160"); goto B32DV; X_ZUo: if (!$errors) { goto kDBg1; } goto wsVFh; B32DV: $mb = new MysqlBackup(); goto C4Y3l; miYN6: return $this->success(); goto lNMHT; dIzly: } protected function getSqls() { goto fUf44; natMI: $stat = stat($dir . $file); goto zA77c; wOfsv: closedir($handle); goto caIpV; wSEsO: return array_reverse($files); goto efI8W; fUf44: $dir = "\163\x71\x6c\57"; goto QkXFi; CtIZQ: KAOOe: goto b77j1; mnVMo: if (!($file != "\x2e" && $file != "\x2e\x2e" && strpos($file, "\x2e"))) { goto KAOOe; } goto natMI; QkXFi: if (!(false != ($handle = opendir($dir)))) { goto hyhA_; } goto Tmrq1; zA77c: $files[] = array("\x6e\x61\155\x65" => $file, "\x73\x69\x7a\145" => $stat["\x73\151\x7a\145"], "\x63\164\151\x6d\145" => $stat["\x63\x74\151\155\145"]); goto CtIZQ; b77j1: goto z26Cq; goto sGUQE; V3YG7: if (!(false !== ($file = readdir($handle)))) { goto yjvxL; } goto mnVMo; caIpV: hyhA_: goto wSEsO; sGUQE: yjvxL: goto wOfsv; Tmrq1: z26Cq: goto V3YG7; efI8W: } protected function postDelete($filename) { goto Y6RgR; Jw9j8: goto P1skh; goto oH2_o; DS2sZ: return $this->error(); goto Jw9j8; oH2_o: JAJcL: goto bIvem; Y6RgR: if (unlink("\163\x71\x6c\57{$filename}") !== false) { goto JAJcL; } goto DS2sZ; a6uO_: P1skh: goto KiSm1; bIvem: return $this->success(); goto a6uO_; KiSm1: } }
